% UCLA color map with "ucla" colormap from OsiriX (http://www.osirix-viewer.com)
%   UCLA(M) returns an M-by-3 matrix containing a "ucla" colormap.
%   UCLA, by itself, is the same length as the current colormap.
function cmap = ucla(m)
    persistent rgb;

    if (nargin < 1)
       m = size(get(gcf,'colormap'),1);
    end

    if (isempty(rgb))
        rgb = ...
        [    0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
             0     0     0;...
            85     0   102;...
            85     0   102;...
            85     0   102;...
            85     0   102;...
           119     0   136;...
           119     0   136;...
           119     0   136;...
           119     0   136;...
           119     0   136;...
           119     0   136;...
           119     0   136;...
           119     0   136;...
           136     0   136;...
           136     0   136;...
           136     0   136;...
           136     0   136;...
           136     0   153;...
           136     0   153;...
           136     0   153;...
           136     0   153;...
           136     0   153;...
           136     0   153;...
           136     0   153;...
           136     0   153;...
           102     0   153;...
           102     0   153;...
           102     0   153;...
           102     0   153;...
            68     0   153;...
            68     0   153;...
            68     0   153;...
            68     0   153;...
            68     0   153;...
            68     0   153;...
            68     0   153;...
            68     0   153;...
             0     0   170;...
             0     0   170;...
             0     0   170;...
             0     0   170;...
             0     0   187;...
             0     0   187;...
             0     0   187;...
             0     0   187;...
             0     0   204;...
             0     0   204;...
             0     0   204;...
             0     0   204;...
             0     0   204;...
             0     0   204;...
             0     0   204;...
             0     0   204;...
             0     0   221;...
             0     0   221;...
             0     0   221;...
             0     0   221;...
             0    51   221;...
             0    51   221;...
             0    51   221;...
             0    51   221;...
             0    51   221;...
             0    51   221;...
             0    51   221;...
             0    51   221;...
             0    85   221;...
             0    85   221;...
             0    85   221;...
             0    85   221;...
             0   119   221;...
             0   119   221;...
             0   119   221;...
             0   119   221;...
             0   119   221;...
             0   119   221;...
             0   119   221;...
             0   119   221;...
             0   136   221;...
             0   136   221;...
             0   136   221;...
             0   136   221;...
             0   153   221;...
             0   153   221;...
             0   153   221;...
             0   153   221;...
             0   153   187;...
             0   153   187;...
             0   153   187;...
             0   153   187;...
             0   153   187;...
             0   153   187;...
             0   153   187;...
             0   153   187;...
             0   170   170;...
             0   170   170;...
             0   170   170;...
             0   170   170;...
             0   170   153;...
             0   170   153;...
             0   170   153;...
             0   170   153;...
             0   170   153;...
             0   170   153;...
             0   170   153;...
             0   170   153;...
             0   170   136;...
             0   170   136;...
             0   170   136;...
             0   170   136;...
             0   170   119;...
             0   170   119;...
             0   170   119;...
             0   170   119;...
             0   170   119;...
             0   170   119;...
             0   170   119;...
             0   170   119;...
             0   170    85;...
             0   170    85;...
             0   170    85;...
             0   170    85;...
             0   170    71;...
             0   170    71;...
             0   170    71;...
             0   170    71;...
             0   185     0;...
             0   185     0;...
             0   185     0;...
             0   185     0;...
             0   185     0;...
             0   185     0;...
             0   185     0;...
             0   185     0;...
             0   204     0;...
             0   204     0;...
             0   204     0;...
             0   204     0;...
             0   221     0;...
             0   221     0;...
             0   221     0;...
             0   221     0;...
             0   221     0;...
             0   221     0;...
             0   221     0;...
             0   221     0;...
             0   238     0;...
             0   238     0;...
             0   238     0;...
             0   238     0;...
             0   255     0;...
             0   255     0;...
             0   255     0;...
             0   255     0;...
             0   255     0;...
             0   255     0;...
             0   255     0;...
             0   255     0;...
           102   255     0;...
           102   255     0;...
           102   255     0;...
           102   255     0;...
           187   255     0;...
           187   255     0;...
           187   255     0;...
           187   255     0;...
           204   238     0;...
           204   238     0;...
           204   238     0;...
           204   238     0;...
           204   238     0;...
           204   238     0;...
           204   238     0;...
           204   238     0;...
           238   221     0;...
           238   221     0;...
           238   221     0;...
           238   221     0;...
           238   204     0;...
           238   204     0;...
           238   204     0;...
           238   204     0;...
           238   204     0;...
           238   204     0;...
           238   204     0;...
           238   204     0;...
           255   187     0;...
           255   187     0;...
           255   187     0;...
           255   187     0;...
           255   170     0;...
           255   170     0;...
           255   170     0;...
           255   170     0;...
           255   170     0;...
           255   170     0;...
           255   170     0;...
           255   170     0;...
           255   153     0;...
           255   153     0;...
           255   153     0;...
           255   153     0;...
           255   119     0;...
           255   119     0;...
           255   119     0;...
           255   119     0;...
           255    85     0;...
           255    85     0;...
           255    85     0;...
           255    85     0;...
           255    85     0;...
           255    85     0;...
           255    85     0;...
           255    85     0;...
           255    51     0;...
           255    51     0;...
           255    51     0;...
           255    51     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;...
           238     0     0;...
           238     0     0;...
           238     0     0;...
           238     0     0;...
           221     0     0;...
           221     0     0;...
           221     0     0;...
           221     0     0;...
           221     0     0;...
           221     0     0;...
           221     0     0;...
           221     0     0;...
           204     0     0;...
           204     0     0;...
           204     0     0;...
           204     0     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;...
           255     0     0;];
    end;

    cmap = zeros([m 3]);

    % red 
    cmap(:,1) = interp1(0:1/255:1,rgb(:,1),0:1/(m-1):1)/255;

    % green
    cmap(:,2) = interp1(0:1/255:1,rgb(:,2),0:1/(m-1):1)/255;

    % blue
    cmap(:,3) = interp1(0:1/255:1,rgb(:,3),0:1/(m-1):1)/255;
end 